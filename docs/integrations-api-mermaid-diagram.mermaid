flowchart TD
  %% Integration node and its properties
  subgraph Integration[Integration]
    A1["ID<br>(Unique integration ID)<br><code>12345</code>"]
    A2["Third Party Software<br>(Software connected)<br><code>netsuite</code>"]
    A3["Display Name<br>(Human-readable name)<br><code>NetSuite 2.0</code>"]
    A4["Deprecated<br>(Active flag)<br><code>false</code>"]
    A5["Categories<br>(Integration categories)<br><code>[accounting, automation]</code>"]
    A6["Product Lines"]
    A7["Prerequisites"]
    A8["Use Cases"]
  end

  Integration --> A1
  Integration --> A2
  Integration --> A3
  Integration --> A4
  Integration --> A5
  Integration --> A6
  Integration --> A7
  Integration --> A8

  %% Product Lines subgraph
  subgraph PL [Product Lines]
    B1["Product Line<br>(Identifier)<br><code>global_payroll</code>"]
    B2["Sync Types"]
  end
  A6 --> PL
  PL --> B1
  PL --> B2

  %% Sync Types subgraph
  subgraph ST [Sync Types]
    C1["Type<br>(Sync type)<br><code>employee_data</code>"]
    C2["Techs<br>(Technologies used)<br><code>[api_open, sftp]</code>"]
    C3["Standalone<br>(Operates independently?)<br><code>true</code>"]
    C4["Depends On<br>(Dependencies)<br><code>[]</code>"]
    C5["Where Set Up<br>(Setup location)<br><code>employee_sync_plugin</code>"]
    C6["Sync Data<br>(Selected data fields)"]
  end
  B2 --> ST
  ST --> C1
  ST --> C2
  ST --> C3
  ST --> C4
  ST --> C5
  ST --> C6

  %% Sync Data subgraph
  subgraph SD [Sync Data]
    D1["Job Info<br>(Fields: job_title, job_info_effective_date)"]
    D2["Personal Info<br>(Fields: first_name, last_name, city)"]
    D3["Work Info<br>(Fields: email, start_date, fte)"]
    D4["Compensation Info<br>(Fields: pay_rate, pay_rate_time_frame)"]
    D5["Employment Info<br>(Fields: employment_type, employment_effective_date)"]
    D6["Cost Centers<br>(Fields: cost_center_code, cost_center_name)"]
    D7["Country Specific Info"]
    D8["Bank Info<br>(Fields: bank_account_number, bank_name)"]
    D9["Custom Info<br>(Field: custom_field_1)"]
    D10["Third Party Custom Info<br>(Field: third_party_field_1)"]
  end
  C6 --> SD
  SD --> D1
  SD --> D2
  SD --> D3
  SD --> D4
  SD --> D5
  SD --> D6
  SD --> D7
  SD --> D8
  SD --> D9
  SD --> D10

  %% Expand Country Specific Info
  subgraph CSI [Country Specific Info]
    E1["National ID<br>(Field: national_id)"]
    E2["Applicable Countries<br><code>[BR, UY, ES, IT]</code>"]
    E3["Tax Code<br>(Field: tax_code)"]
    E4["Applicable Countries<br><code>[GB, JP]</code>"]
  end
  D7 --> CSI
  CSI --> E1
  CSI --> E2
  CSI --> E3
  CSI --> E4

  %% Expand Prerequisites
  subgraph PR [Prerequisites]
    F1["Prerequisite Type<br>(e.g., software)"]
    F2["Content<br><code>req1, req2, req3</code>"]
  end
  A7 --> PR
  PR --> F1
  PR --> F2

  %% Expand Use Cases
  subgraph UC [Use Cases]
    G1["Use Case Name<br>(e.g., employee_onboarding)"]
    G2["Sync Direction<br>(e.g., inbound)"]
    G3["Notes<br><code>onboarding notes</code>"]
    G4["Requirements<br><code>HR module, API credentials</code>"]
  end
  A8 --> UC
  UC --> G1
  UC --> G2
  UC --> G3
  UC --> G4
